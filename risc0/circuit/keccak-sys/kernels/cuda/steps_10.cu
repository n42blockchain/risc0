// Copyright 2024 RISC Zero, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

#include "steps.cuh"

namespace risc0::impl {

__device__ DoShaStepStruct exec_DoShaStep(ExecContext& ctx,
                                          ShaStateStruct arg0,
                                          Val2Array arg1,
                                          Val arg2,
                                          Val2Array arg3,
                                          BoundLayout<DoShaStepLayout> layout4) {
  // DoShaStep(zirgen/circuit/keccak2/top.zir:136)
  Val32Array16Array x5 = arg0.w;
  // BitXor(zirgen/circuit/keccak2/bits.zir:32)
  // XorU32(zirgen/circuit/keccak2/sha2.zir:10)
  // ComputeW(zirgen/circuit/keccak2/sha2.zir:59)
  // DoShaStep(zirgen/circuit/keccak2/top.zir:137)
  Val x6 = (x5[14][18] + x5[14][3]);
  Val x7 = (x5[14][18] * Val(2));
  Val x8 = (x6 - (x7 * x5[14][3]));
  Val x9 = (x5[14][19] + x5[14][4]);
  Val x10 = (x5[14][19] * Val(2));
  Val x11 = (x9 - (x10 * x5[14][4]));
  Val x12 = (x5[14][20] + x5[14][5]);
  Val x13 = (x5[14][20] * Val(2));
  Val x14 = (x12 - (x13 * x5[14][5]));
  Val x15 = (x5[14][21] + x5[14][6]);
  Val x16 = (x5[14][21] * Val(2));
  Val x17 = (x15 - (x16 * x5[14][6]));
  Val x18 = (x5[14][22] + x5[14][7]);
  Val x19 = (x5[14][22] * Val(2));
  Val x20 = (x18 - (x19 * x5[14][7]));
  Val x21 = (x5[14][23] + x5[14][8]);
  Val x22 = (x5[14][23] * Val(2));
  Val x23 = (x21 - (x22 * x5[14][8]));
  Val x24 = (x5[14][24] + x5[14][9]);
  Val x25 = (x5[14][24] * Val(2));
  Val x26 = (x24 - (x25 * x5[14][9]));
  Val x27 = (x5[14][25] + x5[14][10]);
  Val x28 = (x5[14][25] * Val(2));
  Val x29 = (x27 - (x28 * x5[14][10]));
  Val x30 = (x5[14][26] + x5[14][11]);
  Val x31 = (x5[14][26] * Val(2));
  Val x32 = (x30 - (x31 * x5[14][11]));
  Val x33 = (x5[14][27] + x5[14][12]);
  Val x34 = (x5[14][27] * Val(2));
  Val x35 = (x33 - (x34 * x5[14][12]));
  Val x36 = (x5[14][28] + x5[14][13]);
  Val x37 = (x5[14][28] * Val(2));
  Val x38 = (x36 - (x37 * x5[14][13]));
  Val x39 = (x5[14][29] + x5[14][14]);
  Val x40 = (x5[14][29] * Val(2));
  Val x41 = (x39 - (x40 * x5[14][14]));
  Val x42 = (x5[14][30] + x5[14][15]);
  Val x43 = (x5[14][30] * Val(2));
  Val x44 = (x42 - (x43 * x5[14][15]));
  Val x45 = (x5[14][31] + x5[14][16]);
  Val x46 = (x5[14][31] * Val(2));
  Val x47 = (x45 - (x46 * x5[14][16]));
  Val x48 = (x5[14][0] + x5[14][17]);
  Val x49 = (x5[14][0] * Val(2));
  Val x50 = (x48 - (x49 * x5[14][17]));
  Val x51 = (x5[14][1] + x5[14][18]);
  Val x52 = (x5[14][1] * Val(2));
  Val x53 = (x51 - (x52 * x5[14][18]));
  Val x54 = (x5[14][2] + x5[14][19]);
  Val x55 = (x5[14][2] * Val(2));
  Val x56 = (x54 - (x55 * x5[14][19]));
  Val x57 = (x5[14][3] + x5[14][20]);
  Val x58 = (x5[14][3] * Val(2));
  Val x59 = (x57 - (x58 * x5[14][20]));
  Val x60 = (x5[14][4] + x5[14][21]);
  Val x61 = (x5[14][4] * Val(2));
  Val x62 = (x60 - (x61 * x5[14][21]));
  Val x63 = (x5[14][5] + x5[14][22]);
  Val x64 = (x5[14][5] * Val(2));
  Val x65 = (x63 - (x64 * x5[14][22]));
  Val x66 = (x5[14][6] + x5[14][23]);
  Val x67 = (x5[14][6] * Val(2));
  Val x68 = (x66 - (x67 * x5[14][23]));
  Val x69 = (x5[14][7] + x5[14][24]);
  Val x70 = (x5[14][7] * Val(2));
  Val x71 = (x69 - (x70 * x5[14][24]));
  Val x72 = (x5[14][8] + x5[14][25]);
  Val x73 = (x5[14][8] * Val(2));
  Val x74 = (x72 - (x73 * x5[14][25]));
  Val x75 = (x5[14][9] + x5[14][26]);
  Val x76 = (x5[14][9] * Val(2));
  Val x77 = (x75 - (x76 * x5[14][26]));
  Val x78 = (x5[14][10] + x5[14][27]);
  Val x79 = (x5[14][10] * Val(2));
  Val x80 = (x78 - (x79 * x5[14][27]));
  Val x81 = (x5[14][11] + x5[14][28]);
  Val x82 = (x5[14][11] * Val(2));
  Val x83 = (x81 - (x82 * x5[14][28]));
  Val x84 = (x5[14][12] + x5[14][29]);
  Val x85 = (x5[14][12] * Val(2));
  Val x86 = (x84 - (x85 * x5[14][29]));
  Val x87 = (x5[14][13] + x5[14][30]);
  Val x88 = (x5[14][13] * Val(2));
  Val x89 = (x87 - (x88 * x5[14][30]));
  Val x90 = (x5[14][14] + x5[14][31]);
  Val x91 = (x5[14][14] * Val(2));
  Val x92 = (x90 - (x91 * x5[14][31]));
  Val x93 = (x5[14][7] + x8);
  Val x94 = (x5[14][8] + x11);
  Val x95 = (x5[14][9] + x14);
  Val x96 = (x5[14][10] + x17);
  Val x97 = (x5[14][11] + x20);
  Val x98 = (x5[14][12] + x23);
  Val x99 = (x5[14][13] + x26);
  Val x100 = (x5[14][14] + x29);
  Val x101 = (x5[14][15] + x32);
  Val x102 = (x5[14][15] * Val(2));
  Val x103 = (x5[14][16] + x35);
  Val x104 = (x5[14][16] * Val(2));
  Val x105 = (x5[14][17] + x38);
  Val x106 = (x5[14][17] * Val(2));
  Val x107 = (x5[14][18] + x41);
  Val x108 = (x5[14][19] + x44);
  Val x109 = (x5[14][20] + x47);
  Val x110 = (x5[14][21] + x50);
  Val x111 = (x5[14][22] + x53);
  Val x112 = (x5[14][23] + x56);
  Val x113 = (x5[14][24] + x59);
  Val x114 = (x5[14][25] + x62);
  Val x115 = (x5[14][26] + x65);
  Val x116 = (x5[14][27] + x68);
  Val x117 = (x5[14][28] + x71);
  Val x118 = (x5[14][29] + x74);
  Val x119 = (x5[14][30] + x77);
  Val x120 = (x5[14][31] + x80);
  Val x121 = (x5[14][0] + x83);
  Val x122 = (x5[14][1] + x86);
  Val x123 = (x5[14][2] + x89);
  Val x124 = (x5[14][3] + x92);
  Val x125 = (x5[14][4] + x5[14][15]);
  Val x126 = (x5[14][5] + x5[14][16]);
  Val x127 = (x5[14][6] + x5[14][17]);
  // ComputeW(zirgen/circuit/keccak2/sha2.zir:60)
  Val x128 = (x5[1][19] + x5[1][10]);
  Val x129 = (x5[1][19] * Val(2));
  Val x130 = (x128 - (x129 * x5[1][10]));
  Val x131 = (x5[1][20] + x5[1][11]);
  Val x132 = (x5[1][20] * Val(2));
  Val x133 = (x131 - (x132 * x5[1][11]));
  Val x134 = (x5[1][21] + x5[1][12]);
  Val x135 = (x5[1][21] * Val(2));
  Val x136 = (x134 - (x135 * x5[1][12]));
  Val x137 = (x5[1][22] + x5[1][13]);
  Val x138 = (x5[1][22] * Val(2));
  Val x139 = (x137 - (x138 * x5[1][13]));
  Val x140 = (x5[1][23] + x5[1][14]);
  Val x141 = (x5[1][23] * Val(2));
  Val x142 = (x140 - (x141 * x5[1][14]));
  Val x143 = (x5[1][24] + x5[1][15]);
  Val x144 = (x5[1][24] * Val(2));
  Val x145 = (x143 - (x144 * x5[1][15]));
  Val x146 = (x5[1][25] + x5[1][16]);
  Val x147 = (x5[1][25] * Val(2));
  Val x148 = (x146 - (x147 * x5[1][16]));
  Val x149 = (x5[1][26] + x5[1][17]);
  Val x150 = (x5[1][26] * Val(2));
  Val x151 = (x149 - (x150 * x5[1][17]));
  Val x152 = (x5[1][27] + x5[1][18]);
  Val x153 = (x5[1][27] * Val(2));
  Val x154 = (x152 - (x153 * x5[1][18]));
  Val x155 = (x5[1][28] + x5[1][19]);
  Val x156 = (x5[1][28] * Val(2));
  Val x157 = (x155 - (x156 * x5[1][19]));
  Val x158 = (x5[1][29] + x5[1][20]);
  Val x159 = (x5[1][29] * Val(2));
  Val x160 = (x158 - (x159 * x5[1][20]));
  Val x161 = (x5[1][30] + x5[1][21]);
  Val x162 = (x5[1][30] * Val(2));
  Val x163 = (x161 - (x162 * x5[1][21]));
  Val x164 = (x5[1][31] + x5[1][22]);
  Val x165 = (x5[1][31] * Val(2));
  Val x166 = (x164 - (x165 * x5[1][22]));
  Val x167 = (x5[1][0] + x5[1][23]);
  Val x168 = (x5[1][0] * Val(2));
  Val x169 = (x167 - (x168 * x5[1][23]));
  Val x170 = (x5[1][1] + x5[1][24]);
  Val x171 = (x5[1][1] * Val(2));
  Val x172 = (x170 - (x171 * x5[1][24]));
  Val x173 = (x5[1][2] + x5[1][25]);
  Val x174 = (x5[1][2] * Val(2));
  Val x175 = (x173 - (x174 * x5[1][25]));
  Val x176 = (x5[1][3] + x5[1][26]);
  Val x177 = (x5[1][3] * Val(2));
  Val x178 = (x176 - (x177 * x5[1][26]));
  Val x179 = (x5[1][4] + x5[1][27]);
  Val x180 = (x5[1][4] * Val(2));
  Val x181 = (x179 - (x180 * x5[1][27]));
  Val x182 = (x5[1][5] + x5[1][28]);
  Val x183 = (x5[1][5] * Val(2));
  Val x184 = (x182 - (x183 * x5[1][28]));
  Val x185 = (x5[1][6] + x5[1][29]);
  Val x186 = (x5[1][6] * Val(2));
  Val x187 = (x185 - (x186 * x5[1][29]));
  Val x188 = (x5[1][7] + x5[1][30]);
  Val x189 = (x5[1][7] * Val(2));
  Val x190 = (x188 - (x189 * x5[1][30]));
  Val x191 = (x5[1][8] + x5[1][31]);
  Val x192 = (x5[1][8] * Val(2));
  Val x193 = (x191 - (x192 * x5[1][31]));
  Val x194 = (x5[1][17] + x130);
  Val x195 = (x5[1][17] * Val(2));
  Val x196 = (x5[1][18] + x133);
  Val x197 = (x5[1][18] * Val(2));
  Val x198 = (x5[1][19] + x136);
  Val x199 = (x5[1][20] + x139);
  Val x200 = (x5[1][21] + x142);
  Val x201 = (x5[1][22] + x145);
  Val x202 = (x5[1][23] + x148);
  Val x203 = (x5[1][24] + x151);
  Val x204 = (x5[1][25] + x154);
  Val x205 = (x5[1][26] + x157);
  Val x206 = (x5[1][27] + x160);
  Val x207 = (x5[1][28] + x163);
  Val x208 = (x5[1][29] + x166);
  Val x209 = (x5[1][30] + x169);
  Val x210 = (x5[1][31] + x172);
  Val x211 = (x5[1][0] + x175);
  Val x212 = (x5[1][1] + x178);
  Val x213 = (x5[1][2] + x181);
  Val x214 = (x5[1][3] + x184);
  Val x215 = (x5[1][4] + x187);
  Val x216 = (x5[1][5] + x190);
  Val x217 = (x5[1][6] + x193);
  Val x218 = (x5[1][7] + x5[1][9]);
  Val x219 = (x5[1][8] + x5[1][10]);
  Val x220 = (x5[1][9] + x5[1][11]);
  Val x221 = (x5[1][9] * Val(2));
  Val x222 = (x5[1][10] + x5[1][12]);
  Val x223 = (x5[1][10] * Val(2));
  Val x224 = (x5[1][11] + x5[1][13]);
  Val x225 = (x5[1][11] * Val(2));
  Val x226 = (x5[1][12] + x5[1][14]);
  Val x227 = (x5[1][12] * Val(2));
  Val x228 = (x5[1][13] + x5[1][15]);
  Val x229 = (x5[1][13] * Val(2));
  Val x230 = (x5[1][14] + x5[1][16]);
  Val x231 = (x5[1][14] * Val(2));
  Val x232 = (x5[1][15] + x5[1][17]);
  Val x233 = (x5[1][15] * Val(2));
  Val x234 = (x5[1][16] + x5[1][18]);
  Val x235 = (x5[1][16] * Val(2));
  // Pack(zirgen/circuit/keccak2/pack.zir:32)
  // Pack32(zirgen/circuit/keccak2/sha2.zir:55)
  // ComputeW(zirgen/circuit/keccak2/sha2.zir:61)
  Val x236 = ((x93 - (x70 * x8)) + ((x94 - (x73 * x11)) * Val(2)));
  Val x237 = ((x236 + ((x95 - (x76 * x14)) * Val(4))) + ((x96 - (x79 * x17)) * Val(8)));
  Val x238 = ((x237 + ((x97 - (x82 * x20)) * Val(16))) + ((x98 - (x85 * x23)) * Val(32)));
  Val x239 = ((x238 + ((x99 - (x88 * x26)) * Val(64))) + ((x100 - (x91 * x29)) * Val(128)));
  Val x240 = ((x239 + ((x101 - (x102 * x32)) * Val(256))) + ((x103 - (x104 * x35)) * Val(512)));
  Val x241 = ((x240 + ((x105 - (x106 * x38)) * Val(1024))) + ((x107 - (x7 * x41)) * Val(2048)));
  Val x242 = ((x241 + ((x108 - (x10 * x44)) * Val(4096))) + ((x109 - (x13 * x47)) * Val(8192)));
  Val x243 = ((x242 + ((x110 - (x16 * x50)) * Val(16384))) + ((x111 - (x19 * x53)) * Val(32768)));
  Val x244 = ((x112 - (x22 * x56)) + ((x113 - (x25 * x59)) * Val(2)));
  Val x245 = ((x244 + ((x114 - (x28 * x62)) * Val(4))) + ((x115 - (x31 * x65)) * Val(8)));
  Val x246 = ((x245 + ((x116 - (x34 * x68)) * Val(16))) + ((x117 - (x37 * x71)) * Val(32)));
  Val x247 = ((x246 + ((x118 - (x40 * x74)) * Val(64))) + ((x119 - (x43 * x77)) * Val(128)));
  Val x248 = ((x247 + ((x120 - (x46 * x80)) * Val(256))) + ((x121 - (x49 * x83)) * Val(512)));
  Val x249 = ((x248 + ((x122 - (x52 * x86)) * Val(1024))) + ((x123 - (x55 * x89)) * Val(2048)));
  Val x250 =
      ((x249 + ((x124 - (x58 * x92)) * Val(4096))) + ((x125 - (x61 * x5[14][15])) * Val(8192)));
  Val x251 = ((x250 + ((x126 - (x64 * x5[14][16])) * Val(16384))) +
              ((x127 - (x67 * x5[14][17])) * Val(32768)));
  Val x252 = ((x194 - (x195 * x130)) + ((x196 - (x197 * x133)) * Val(2)));
  Val x253 = ((x252 + ((x198 - (x129 * x136)) * Val(4))) + ((x199 - (x132 * x139)) * Val(8)));
  Val x254 = ((x253 + ((x200 - (x135 * x142)) * Val(16))) + ((x201 - (x138 * x145)) * Val(32)));
  Val x255 = ((x254 + ((x202 - (x141 * x148)) * Val(64))) + ((x203 - (x144 * x151)) * Val(128)));
  Val x256 = ((x255 + ((x204 - (x147 * x154)) * Val(256))) + ((x205 - (x150 * x157)) * Val(512)));
  Val x257 = ((x256 + ((x206 - (x153 * x160)) * Val(1024))) + ((x207 - (x156 * x163)) * Val(2048)));
  Val x258 = ((x257 + ((x208 - (x159 * x166)) * Val(4096))) + ((x209 - (x162 * x169)) * Val(8192)));
  Val x259 =
      ((x258 + ((x210 - (x165 * x172)) * Val(16384))) + ((x211 - (x168 * x175)) * Val(32768)));
  Val x260 = ((x212 - (x171 * x178)) + ((x213 - (x174 * x181)) * Val(2)));
  Val x261 = ((x260 + ((x214 - (x177 * x184)) * Val(4))) + ((x215 - (x180 * x187)) * Val(8)));
  Val x262 = ((x261 + ((x216 - (x183 * x190)) * Val(16))) + ((x217 - (x186 * x193)) * Val(32)));
  Val x263 =
      ((x262 + ((x218 - (x189 * x5[1][9])) * Val(64))) + ((x219 - (x192 * x5[1][10])) * Val(128)));
  Val x264 = ((x263 + ((x220 - (x221 * x5[1][11])) * Val(256))) +
              ((x222 - (x223 * x5[1][12])) * Val(512)));
  Val x265 = ((x264 + ((x224 - (x225 * x5[1][13])) * Val(1024))) +
              ((x226 - (x227 * x5[1][14])) * Val(2048)));
  Val x266 = ((x265 + ((x228 - (x229 * x5[1][15])) * Val(4096))) +
              ((x230 - (x231 * x5[1][16])) * Val(8192)));
  Val x267 = ((x266 + ((x232 - (x233 * x5[1][17])) * Val(16384))) +
              ((x234 - (x235 * x5[1][18])) * Val(32768)));
  Val x268 = (x5[15][1] * Val(2));
  Val x269 = (x5[15][2] * Val(4));
  Val x270 = (x5[15][3] * Val(8));
  Val x271 = (x5[15][4] * Val(16));
  Val x272 = (x5[15][5] * Val(32));
  Val x273 = (x5[15][6] * Val(64));
  Val x274 = (x5[15][7] * Val(128));
  Val x275 = (x5[15][8] * Val(256));
  Val x276 = (x5[15][9] * Val(512));
  Val x277 = (x5[15][10] * Val(1024));
  Val x278 = (x5[15][11] * Val(2048));
  Val x279 = (x5[15][12] * Val(4096));
  Val x280 = (x5[15][13] * Val(8192));
  Val x281 = (x5[15][14] * Val(16384));
  Val x282 = (x5[15][15] * Val(32768));
  Val x283 = (x5[15][0] + x268);
  Val x284 = (((x283 + x269) + x270) + x271);
  Val x285 = (((x284 + x272) + x273) + x274);
  Val x286 = (((x285 + x275) + x276) + x277);
  Val x287 = (((x286 + x278) + x279) + x280);
  Val x288 = (x5[15][17] * Val(2));
  Val x289 = (x5[15][18] * Val(4));
  Val x290 = (x5[15][19] * Val(8));
  Val x291 = (x5[15][20] * Val(16));
  Val x292 = (x5[15][21] * Val(32));
  Val x293 = (x5[15][22] * Val(64));
  Val x294 = (x5[15][23] * Val(128));
  Val x295 = (x5[15][24] * Val(256));
  Val x296 = (x5[15][25] * Val(512));
  Val x297 = (x5[15][26] * Val(1024));
  Val x298 = (x5[15][27] * Val(2048));
  Val x299 = (x5[15][28] * Val(4096));
  Val x300 = (x5[15][29] * Val(8192));
  Val x301 = (x5[15][30] * Val(16384));
  Val x302 = (x5[15][31] * Val(32768));
  Val x303 = (x5[15][16] + x288);
  Val x304 = (((x303 + x289) + x290) + x291);
  Val x305 = (((x304 + x292) + x293) + x294);
  Val x306 = (((x305 + x295) + x296) + x297);
  Val x307 = (((x306 + x298) + x299) + x300);
  Val x308 = (x5[6][1] * Val(2));
  Val x309 = (x5[6][2] * Val(4));
  Val x310 = (x5[6][3] * Val(8));
  Val x311 = (x5[6][4] * Val(16));
  Val x312 = (x5[6][5] * Val(32));
  Val x313 = (x5[6][6] * Val(64));
  Val x314 = (x5[6][7] * Val(128));
  Val x315 = (x5[6][8] * Val(256));
  Val x316 = (x5[6][9] * Val(512));
  Val x317 = (x5[6][10] * Val(1024));
  Val x318 = (x5[6][11] * Val(2048));
  Val x319 = (x5[6][12] * Val(4096));
  Val x320 = (x5[6][13] * Val(8192));
  Val x321 = (x5[6][14] * Val(16384));
  Val x322 = (x5[6][15] * Val(32768));
  Val x323 = (x5[6][0] + x308);
  Val x324 = (((x323 + x309) + x310) + x311);
  Val x325 = (((x324 + x312) + x313) + x314);
  Val x326 = (((x325 + x315) + x316) + x317);
  Val x327 = (((x326 + x318) + x319) + x320);
  Val x328 = (x5[6][17] * Val(2));
  Val x329 = (x5[6][18] * Val(4));
  Val x330 = (x5[6][19] * Val(8));
  Val x331 = (x5[6][20] * Val(16));
  Val x332 = (x5[6][21] * Val(32));
  Val x333 = (x5[6][22] * Val(64));
  Val x334 = (x5[6][23] * Val(128));
  Val x335 = (x5[6][24] * Val(256));
  Val x336 = (x5[6][25] * Val(512));
  Val x337 = (x5[6][26] * Val(1024));
  Val x338 = (x5[6][27] * Val(2048));
  Val x339 = (x5[6][28] * Val(4096));
  Val x340 = (x5[6][29] * Val(8192));
  Val x341 = (x5[6][30] * Val(16384));
  Val x342 = (x5[6][31] * Val(32768));
  Val x343 = (x5[6][16] + x328);
  Val x344 = (((x343 + x329) + x330) + x331);
  Val x345 = (((x344 + x332) + x333) + x334);
  Val x346 = (((x345 + x335) + x336) + x337);
  Val x347 = (((x346 + x338) + x339) + x340);
  // Add2(zirgen/circuit/keccak2/sha2.zir:30)
  Val x348 = (((x287 + x281) + x282) + ((x327 + x321) + x322));
  Val x349 = (((x307 + x301) + x302) + ((x347 + x341) + x342));
  // DoShaStep(zirgen/circuit/keccak2/top.zir:138)
  Val x350 = (Val(1) - arg2);
  Val2Array x351 = Val2Array{((arg2 * arg3[0]) + (x350 * (x243 + (x259 + x348)))),
                             ((arg2 * arg3[1]) + (x350 * (x251 + (x267 + x349))))};
  // DoShaStep(zirgen/circuit/keccak2/top.zir:140)
  UnpackReg_32__16_Struct x352 = exec_CarryAndExpand(ctx, x351, LAYOUT_LOOKUP(layout4, w));
  // DoShaStep(zirgen/circuit/keccak2/top.zir:136)
  Val32Array4Array x353 = arg0.a;
  Val32Array4Array x354 = arg0.e;
  // DoShaStep(zirgen/circuit/keccak2/top.zir:140)
  UnpackReg_32__16__SuperStruct32Array x355 = x352._super;
  Val x356 = x355[0]._super._super;
  Val x357 = x355[1]._super._super;
  Val x358 = x355[2]._super._super;
  Val x359 = x355[3]._super._super;
  Val x360 = x355[4]._super._super;
  Val x361 = x355[5]._super._super;
  Val x362 = x355[6]._super._super;
  Val x363 = x355[7]._super._super;
  Val x364 = x355[8]._super._super;
  Val x365 = x355[9]._super._super;
  Val x366 = x355[10]._super._super;
  Val x367 = x355[11]._super._super;
  Val x368 = x355[12]._super._super;
  Val x369 = x355[13]._super._super;
  Val x370 = x355[14]._super._super;
  Val x371 = x355[15]._super._super;
  Val x372 = x355[16]._super._super;
  Val x373 = x355[17]._super._super;
  Val x374 = x355[18]._super._super;
  Val x375 = x355[19]._super._super;
  Val x376 = x355[20]._super._super;
  Val x377 = x355[21]._super._super;
  Val x378 = x355[22]._super._super;
  Val x379 = x355[23]._super._super;
  Val x380 = x355[24]._super._super;
  Val x381 = x355[25]._super._super;
  Val x382 = x355[26]._super._super;
  Val x383 = x355[27]._super._super;
  Val x384 = x355[28]._super._super;
  Val x385 = x355[29]._super._super;
  Val x386 = x355[30]._super._super;
  Val x387 = x355[31]._super._super;
  // BitXor(zirgen/circuit/keccak2/bits.zir:32)
  // XorU32(zirgen/circuit/keccak2/sha2.zir:10)
  // ComputeAE(zirgen/circuit/keccak2/sha2.zir:72)
  // DoShaStep(zirgen/circuit/keccak2/top.zir:141)
  Val x388 = (x353[0][13] + x353[0][22]);
  Val x389 = (x353[0][13] * Val(2));
  Val x390 = (x388 - (x389 * x353[0][22]));
  Val x391 = (x353[0][14] + x353[0][23]);
  Val x392 = (x353[0][14] * Val(2));
  Val x393 = (x391 - (x392 * x353[0][23]));
  Val x394 = (x353[0][15] + x353[0][24]);
  Val x395 = (x353[0][15] * Val(2));
  Val x396 = (x394 - (x395 * x353[0][24]));
  Val x397 = (x353[0][16] + x353[0][25]);
  Val x398 = (x353[0][16] * Val(2));
  Val x399 = (x397 - (x398 * x353[0][25]));
  Val x400 = (x353[0][17] + x353[0][26]);
  Val x401 = (x353[0][17] * Val(2));
  Val x402 = (x400 - (x401 * x353[0][26]));
  Val x403 = (x353[0][18] + x353[0][27]);
  Val x404 = (x353[0][18] * Val(2));
  Val x405 = (x403 - (x404 * x353[0][27]));
  Val x406 = (x353[0][19] + x353[0][28]);
  Val x407 = (x353[0][19] * Val(2));
  Val x408 = (x406 - (x407 * x353[0][28]));
  Val x409 = (x353[0][20] + x353[0][29]);
  Val x410 = (x353[0][20] * Val(2));
  Val x411 = (x409 - (x410 * x353[0][29]));
  Val x412 = (x353[0][21] + x353[0][30]);
  Val x413 = (x353[0][21] * Val(2));
  Val x414 = (x412 - (x413 * x353[0][30]));
  Val x415 = (x353[0][22] + x353[0][31]);
  Val x416 = (x353[0][22] * Val(2));
  Val x417 = (x415 - (x416 * x353[0][31]));
  Val x418 = (x353[0][23] + x353[0][0]);
  Val x419 = (x353[0][23] * Val(2));
  Val x420 = (x418 - (x419 * x353[0][0]));
  Val x421 = (x353[0][24] + x353[0][1]);
  Val x422 = (x353[0][24] * Val(2));
  Val x423 = (x421 - (x422 * x353[0][1]));
  Val x424 = (x353[0][25] + x353[0][2]);
  Val x425 = (x353[0][25] * Val(2));
  Val x426 = (x424 - (x425 * x353[0][2]));
  Val x427 = (x353[0][26] + x353[0][3]);
  Val x428 = (x353[0][26] * Val(2));
  Val x429 = (x427 - (x428 * x353[0][3]));
  Val x430 = (x353[0][27] + x353[0][4]);
  Val x431 = (x353[0][27] * Val(2));
  Val x432 = (x430 - (x431 * x353[0][4]));
  Val x433 = (x353[0][28] + x353[0][5]);
  Val x434 = (x353[0][28] * Val(2));
  Val x435 = (x433 - (x434 * x353[0][5]));
  Val x436 = (x353[0][29] + x353[0][6]);
  Val x437 = (x353[0][29] * Val(2));
  Val x438 = (x436 - (x437 * x353[0][6]));
  Val x439 = (x353[0][30] + x353[0][7]);
  Val x440 = (x353[0][30] * Val(2));
  Val x441 = (x439 - (x440 * x353[0][7]));
  Val x442 = (x353[0][31] + x353[0][8]);
  Val x443 = (x353[0][31] * Val(2));
  Val x444 = (x442 - (x443 * x353[0][8]));
  Val x445 = (x353[0][0] + x353[0][9]);
  Val x446 = (x353[0][0] * Val(2));
  Val x447 = (x445 - (x446 * x353[0][9]));
  Val x448 = (x353[0][1] + x353[0][10]);
  Val x449 = (x353[0][1] * Val(2));
  Val x450 = (x448 - (x449 * x353[0][10]));
  Val x451 = (x353[0][2] + x353[0][11]);
  Val x452 = (x353[0][2] * Val(2));
  Val x453 = (x451 - (x452 * x353[0][11]));
  Val x454 = (x353[0][3] + x353[0][12]);
  Val x455 = (x353[0][3] * Val(2));
  Val x456 = (x454 - (x455 * x353[0][12]));
  Val x457 = (x353[0][4] + x353[0][13]);
  Val x458 = (x353[0][4] * Val(2));
  Val x459 = (x457 - (x458 * x353[0][13]));
  Val x460 = (x353[0][5] + x353[0][14]);
  Val x461 = (x353[0][5] * Val(2));
  Val x462 = (x460 - (x461 * x353[0][14]));
  Val x463 = (x353[0][6] + x353[0][15]);
  Val x464 = (x353[0][6] * Val(2));
  Val x465 = (x463 - (x464 * x353[0][15]));
  Val x466 = (x353[0][7] + x353[0][16]);
  Val x467 = (x353[0][7] * Val(2));
  Val x468 = (x466 - (x467 * x353[0][16]));
  Val x469 = (x353[0][8] + x353[0][17]);
  Val x470 = (x353[0][8] * Val(2));
  Val x471 = (x469 - (x470 * x353[0][17]));
  Val x472 = (x353[0][9] + x353[0][18]);
  Val x473 = (x353[0][9] * Val(2));
  Val x474 = (x472 - (x473 * x353[0][18]));
  Val x475 = (x353[0][10] + x353[0][19]);
  Val x476 = (x353[0][10] * Val(2));
  Val x477 = (x475 - (x476 * x353[0][19]));
  Val x478 = (x353[0][11] + x353[0][20]);
  Val x479 = (x353[0][11] * Val(2));
  Val x480 = (x478 - (x479 * x353[0][20]));
  Val x481 = (x353[0][12] + x353[0][21]);
  Val x482 = (x353[0][12] * Val(2));
  Val x483 = (x481 - (x482 * x353[0][21]));
  Val x484 = (x353[0][2] + x390);
  Val x485 = (x353[0][3] + x393);
  Val x486 = (x353[0][4] + x396);
  Val x487 = (x353[0][5] + x399);
  Val x488 = (x353[0][6] + x402);
  Val x489 = (x353[0][7] + x405);
  Val x490 = (x353[0][8] + x408);
  Val x491 = (x353[0][9] + x411);
  Val x492 = (x353[0][10] + x414);
  Val x493 = (x353[0][11] + x417);
  Val x494 = (x353[0][12] + x420);
  Val x495 = (x353[0][13] + x423);
  Val x496 = (x353[0][14] + x426);
  Val x497 = (x353[0][15] + x429);
  Val x498 = (x353[0][16] + x432);
  Val x499 = (x353[0][17] + x435);
  Val x500 = (x353[0][18] + x438);
  Val x501 = (x353[0][19] + x441);
  Val x502 = (x353[0][20] + x444);
  Val x503 = (x353[0][21] + x447);
  Val x504 = (x353[0][22] + x450);
  Val x505 = (x353[0][23] + x453);
  Val x506 = (x353[0][24] + x456);
  Val x507 = (x353[0][25] + x459);
  Val x508 = (x353[0][26] + x462);
  Val x509 = (x353[0][27] + x465);
  Val x510 = (x353[0][28] + x468);
  Val x511 = (x353[0][29] + x471);
  Val x512 = (x353[0][30] + x474);
  Val x513 = (x353[0][31] + x477);
  Val x514 = (x353[0][0] + x480);
  Val x515 = (x353[0][1] + x483);
  // ComputeAE(zirgen/circuit/keccak2/sha2.zir:73)
  Val x516 = (x354[0][11] + x354[0][25]);
  Val x517 = (x354[0][11] * Val(2));
  Val x518 = (x516 - (x517 * x354[0][25]));
  Val x519 = (x354[0][12] + x354[0][26]);
  Val x520 = (x354[0][12] * Val(2));
  Val x521 = (x519 - (x520 * x354[0][26]));
  Val x522 = (x354[0][13] + x354[0][27]);
  Val x523 = (x354[0][13] * Val(2));
  Val x524 = (x522 - (x523 * x354[0][27]));
  Val x525 = (x354[0][14] + x354[0][28]);
  Val x526 = (x354[0][14] * Val(2));
  Val x527 = (x525 - (x526 * x354[0][28]));
  Val x528 = (x354[0][15] + x354[0][29]);
  Val x529 = (x354[0][15] * Val(2));
  Val x530 = (x528 - (x529 * x354[0][29]));
  Val x531 = (x354[0][16] + x354[0][30]);
  Val x532 = (x354[0][16] * Val(2));
  Val x533 = (x531 - (x532 * x354[0][30]));
  Val x534 = (x354[0][17] + x354[0][31]);
  Val x535 = (x354[0][17] * Val(2));
  Val x536 = (x534 - (x535 * x354[0][31]));
  Val x537 = (x354[0][18] + x354[0][0]);
  Val x538 = (x354[0][18] * Val(2));
  Val x539 = (x537 - (x538 * x354[0][0]));
  Val x540 = (x354[0][19] + x354[0][1]);
  Val x541 = (x354[0][19] * Val(2));
  Val x542 = (x540 - (x541 * x354[0][1]));
  Val x543 = (x354[0][20] + x354[0][2]);
  Val x544 = (x354[0][20] * Val(2));
  Val x545 = (x543 - (x544 * x354[0][2]));
  Val x546 = (x354[0][21] + x354[0][3]);
  Val x547 = (x354[0][21] * Val(2));
  Val x548 = (x546 - (x547 * x354[0][3]));
  Val x549 = (x354[0][22] + x354[0][4]);
  Val x550 = (x354[0][22] * Val(2));
  Val x551 = (x549 - (x550 * x354[0][4]));
  Val x552 = (x354[0][23] + x354[0][5]);
  Val x553 = (x354[0][23] * Val(2));
  Val x554 = (x552 - (x553 * x354[0][5]));
  Val x555 = (x354[0][24] + x354[0][6]);
  Val x556 = (x354[0][24] * Val(2));
  Val x557 = (x555 - (x556 * x354[0][6]));
  Val x558 = (x354[0][25] + x354[0][7]);
  Val x559 = (x354[0][25] * Val(2));
  Val x560 = (x558 - (x559 * x354[0][7]));
  Val x561 = (x354[0][26] + x354[0][8]);
  Val x562 = (x354[0][26] * Val(2));
  Val x563 = (x561 - (x562 * x354[0][8]));
  Val x564 = (x354[0][27] + x354[0][9]);
  Val x565 = (x354[0][27] * Val(2));
  Val x566 = (x564 - (x565 * x354[0][9]));
  Val x567 = (x354[0][28] + x354[0][10]);
  Val x568 = (x354[0][28] * Val(2));
  Val x569 = (x567 - (x568 * x354[0][10]));
  Val x570 = (x354[0][29] + x354[0][11]);
  Val x571 = (x354[0][29] * Val(2));
  Val x572 = (x570 - (x571 * x354[0][11]));
  Val x573 = (x354[0][30] + x354[0][12]);
  Val x574 = (x354[0][30] * Val(2));
  Val x575 = (x573 - (x574 * x354[0][12]));
  Val x576 = (x354[0][31] + x354[0][13]);
  Val x577 = (x354[0][31] * Val(2));
  Val x578 = (x576 - (x577 * x354[0][13]));
  Val x579 = (x354[0][0] + x354[0][14]);
  Val x580 = (x354[0][0] * Val(2));
  Val x581 = (x579 - (x580 * x354[0][14]));
  Val x582 = (x354[0][1] + x354[0][15]);
  Val x583 = (x354[0][1] * Val(2));
  Val x584 = (x582 - (x583 * x354[0][15]));
  Val x585 = (x354[0][2] + x354[0][16]);
  Val x586 = (x354[0][2] * Val(2));
  Val x587 = (x585 - (x586 * x354[0][16]));
  Val x588 = (x354[0][3] + x354[0][17]);
  Val x589 = (x354[0][3] * Val(2));
  Val x590 = (x588 - (x589 * x354[0][17]));
  Val x591 = (x354[0][4] + x354[0][18]);
  Val x592 = (x354[0][4] * Val(2));
  Val x593 = (x591 - (x592 * x354[0][18]));
  Val x594 = (x354[0][5] + x354[0][19]);
  Val x595 = (x354[0][5] * Val(2));
  Val x596 = (x594 - (x595 * x354[0][19]));
  Val x597 = (x354[0][6] + x354[0][20]);
  Val x598 = (x354[0][6] * Val(2));
  Val x599 = (x597 - (x598 * x354[0][20]));
  Val x600 = (x354[0][7] + x354[0][21]);
  Val x601 = (x354[0][7] * Val(2));
  Val x602 = (x600 - (x601 * x354[0][21]));
  Val x603 = (x354[0][8] + x354[0][22]);
  Val x604 = (x354[0][8] * Val(2));
  Val x605 = (x603 - (x604 * x354[0][22]));
  Val x606 = (x354[0][9] + x354[0][23]);
  Val x607 = (x354[0][9] * Val(2));
  Val x608 = (x606 - (x607 * x354[0][23]));
  Val x609 = (x354[0][10] + x354[0][24]);
  Val x610 = (x354[0][10] * Val(2));
  Val x611 = (x609 - (x610 * x354[0][24]));
  Val x612 = (x354[0][6] + x518);
  Val x613 = (x354[0][7] + x521);
  Val x614 = (x354[0][8] + x524);
  Val x615 = (x354[0][9] + x527);
  Val x616 = (x354[0][10] + x530);
  Val x617 = (x354[0][11] + x533);
  Val x618 = (x354[0][12] + x536);
  Val x619 = (x354[0][13] + x539);
  Val x620 = (x354[0][14] + x542);
  Val x621 = (x354[0][15] + x545);
  Val x622 = (x354[0][16] + x548);
  Val x623 = (x354[0][17] + x551);
  Val x624 = (x354[0][18] + x554);
  Val x625 = (x354[0][19] + x557);
  Val x626 = (x354[0][20] + x560);
  Val x627 = (x354[0][21] + x563);
  Val x628 = (x354[0][22] + x566);
  Val x629 = (x354[0][23] + x569);
  Val x630 = (x354[0][24] + x572);
  Val x631 = (x354[0][25] + x575);
  Val x632 = (x354[0][26] + x578);
  Val x633 = (x354[0][27] + x581);
  Val x634 = (x354[0][28] + x584);
  Val x635 = (x354[0][29] + x587);
  Val x636 = (x354[0][30] + x590);
  Val x637 = (x354[0][31] + x593);
  Val x638 = (x354[0][0] + x596);
  Val x639 = (x354[0][1] + x599);
  Val x640 = (x354[0][2] + x602);
  Val x641 = (x354[0][3] + x605);
  Val x642 = (x354[0][4] + x608);
  Val x643 = (x354[0][5] + x611);
  // Pack(zirgen/circuit/keccak2/pack.zir:32)
  // Pack32(zirgen/circuit/keccak2/sha2.zir:55)
  // ComputeAE(zirgen/circuit/keccak2/sha2.zir:74)
  Val x644 = (((x356 + (x357 * Val(2))) + (x358 * Val(4))) + (x359 * Val(8)));
  Val x645 = (((x644 + (x360 * Val(16))) + (x361 * Val(32))) + (x362 * Val(64)));
  Val x646 = (((x645 + (x363 * Val(128))) + (x364 * Val(256))) + (x365 * Val(512)));
  Val x647 = (((x646 + (x366 * Val(1024))) + (x367 * Val(2048))) + (x368 * Val(4096)));
  Val x648 = (((x647 + (x369 * Val(8192))) + (x370 * Val(16384))) + (x371 * Val(32768)));
  Val x649 = (((x372 + (x373 * Val(2))) + (x374 * Val(4))) + (x375 * Val(8)));
  Val x650 = (((x649 + (x376 * Val(16))) + (x377 * Val(32))) + (x378 * Val(64)));
  Val x651 = (((x650 + (x379 * Val(128))) + (x380 * Val(256))) + (x381 * Val(512)));
  Val x652 = (((x651 + (x382 * Val(1024))) + (x383 * Val(2048))) + (x384 * Val(4096)));
  Val x653 = (((x652 + (x385 * Val(8192))) + (x386 * Val(16384))) + (x387 * Val(32768)));
  Val x654 = (x354[3][1] * Val(2));
  Val x655 = (x354[3][2] * Val(4));
  Val x656 = (x354[3][3] * Val(8));
  Val x657 = (x354[3][4] * Val(16));
  Val x658 = (x354[3][5] * Val(32));
  Val x659 = (x354[3][6] * Val(64));
  Val x660 = (x354[3][7] * Val(128));
  Val x661 = (x354[3][8] * Val(256));
  Val x662 = (x354[3][9] * Val(512));
  Val x663 = (x354[3][10] * Val(1024));
  Val x664 = (x354[3][11] * Val(2048));
  Val x665 = (x354[3][12] * Val(4096));
  Val x666 = (x354[3][13] * Val(8192));
  Val x667 = (x354[3][14] * Val(16384));
  Val x668 = (x354[3][15] * Val(32768));
  Val x669 = (x354[3][0] + x654);
  Val x670 = (((x669 + x655) + x656) + x657);
  Val x671 = (((x670 + x658) + x659) + x660);
  Val x672 = (((x671 + x661) + x662) + x663);
  Val x673 = (((x672 + x664) + x665) + x666);
  Val x674 = (x354[3][17] * Val(2));
  Val x675 = (x354[3][18] * Val(4));
  Val x676 = (x354[3][19] * Val(8));
  Val x677 = (x354[3][20] * Val(16));
  Val x678 = (x354[3][21] * Val(32));
  Val x679 = (x354[3][22] * Val(64));
  Val x680 = (x354[3][23] * Val(128));
  Val x681 = (x354[3][24] * Val(256));
  Val x682 = (x354[3][25] * Val(512));
  Val x683 = (x354[3][26] * Val(1024));
  Val x684 = (x354[3][27] * Val(2048));
  Val x685 = (x354[3][28] * Val(4096));
  Val x686 = (x354[3][29] * Val(8192));
  Val x687 = (x354[3][30] * Val(16384));
  Val x688 = (x354[3][31] * Val(32768));
  Val x689 = (x354[3][16] + x674);
  Val x690 = (((x689 + x675) + x676) + x677);
  Val x691 = (((x690 + x678) + x679) + x680);
  Val x692 = (((x691 + x681) + x682) + x683);
  Val x693 = (((x692 + x684) + x685) + x686);
  // ChU32(zirgen/circuit/keccak2/sha2.zir:25)
  Val x694 = (x354[0][0] * x354[1][0]);
  Val x695 = (Val(1) - x354[0][0]);
  Val x696 = (x354[0][1] * x354[1][1]);
  Val x697 = (Val(1) - x354[0][1]);
  Val x698 = (x354[0][2] * x354[1][2]);
  Val x699 = (Val(1) - x354[0][2]);
  Val x700 = (x354[0][3] * x354[1][3]);
  Val x701 = (Val(1) - x354[0][3]);
  Val x702 = (x354[0][4] * x354[1][4]);
  Val x703 = (Val(1) - x354[0][4]);
  Val x704 = (x354[0][5] * x354[1][5]);
  Val x705 = (Val(1) - x354[0][5]);
  Val x706 = (x354[0][6] * x354[1][6]);
  Val x707 = (Val(1) - x354[0][6]);
  Val x708 = (x354[0][7] * x354[1][7]);
  Val x709 = (Val(1) - x354[0][7]);
  Val x710 = (x354[0][8] * x354[1][8]);
  Val x711 = (Val(1) - x354[0][8]);
  Val x712 = (x354[0][9] * x354[1][9]);
  Val x713 = (Val(1) - x354[0][9]);
  Val x714 = (x354[0][10] * x354[1][10]);
  Val x715 = (Val(1) - x354[0][10]);
  Val x716 = (x354[0][11] * x354[1][11]);
  Val x717 = (Val(1) - x354[0][11]);
  Val x718 = (x354[0][12] * x354[1][12]);
  Val x719 = (Val(1) - x354[0][12]);
  Val x720 = (x354[0][13] * x354[1][13]);
  Val x721 = (Val(1) - x354[0][13]);
  Val x722 = (x354[0][14] * x354[1][14]);
  Val x723 = (Val(1) - x354[0][14]);
  Val x724 = (x354[0][15] * x354[1][15]);
  Val x725 = (Val(1) - x354[0][15]);
  Val x726 = (x354[0][16] * x354[1][16]);
  Val x727 = (Val(1) - x354[0][16]);
  Val x728 = (x354[0][17] * x354[1][17]);
  Val x729 = (Val(1) - x354[0][17]);
  Val x730 = (x354[0][18] * x354[1][18]);
  Val x731 = (Val(1) - x354[0][18]);
  Val x732 = (x354[0][19] * x354[1][19]);
  Val x733 = (Val(1) - x354[0][19]);
  Val x734 = (x354[0][20] * x354[1][20]);
  Val x735 = (Val(1) - x354[0][20]);
  Val x736 = (x354[0][21] * x354[1][21]);
  Val x737 = (Val(1) - x354[0][21]);
  Val x738 = (x354[0][22] * x354[1][22]);
  Val x739 = (Val(1) - x354[0][22]);
  Val x740 = (x354[0][23] * x354[1][23]);
  Val x741 = (Val(1) - x354[0][23]);
  Val x742 = (x354[0][24] * x354[1][24]);
  Val x743 = (Val(1) - x354[0][24]);
  Val x744 = (x354[0][25] * x354[1][25]);
  Val x745 = (Val(1) - x354[0][25]);
  Val x746 = (x354[0][26] * x354[1][26]);
  Val x747 = (Val(1) - x354[0][26]);
  Val x748 = (x354[0][27] * x354[1][27]);
  Val x749 = (Val(1) - x354[0][27]);
  Val x750 = (x354[0][28] * x354[1][28]);
  Val x751 = (Val(1) - x354[0][28]);
  Val x752 = (x354[0][29] * x354[1][29]);
  Val x753 = (Val(1) - x354[0][29]);
  Val x754 = (x354[0][30] * x354[1][30]);
  Val x755 = (Val(1) - x354[0][30]);
  Val x756 = (x354[0][31] * x354[1][31]);
  Val x757 = (Val(1) - x354[0][31]);
  // Pack(zirgen/circuit/keccak2/pack.zir:32)
  // Pack32(zirgen/circuit/keccak2/sha2.zir:55)
  Val x758 = ((x694 + (x695 * x354[2][0])) + ((x696 + (x697 * x354[2][1])) * Val(2)));
  Val x759 =
      ((x758 + ((x698 + (x699 * x354[2][2])) * Val(4))) + ((x700 + (x701 * x354[2][3])) * Val(8)));
  Val x760 = ((x759 + ((x702 + (x703 * x354[2][4])) * Val(16))) +
              ((x704 + (x705 * x354[2][5])) * Val(32)));
  Val x761 = ((x760 + ((x706 + (x707 * x354[2][6])) * Val(64))) +
              ((x708 + (x709 * x354[2][7])) * Val(128)));
  Val x762 = ((x761 + ((x710 + (x711 * x354[2][8])) * Val(256))) +
              ((x712 + (x713 * x354[2][9])) * Val(512)));
  Val x763 = ((x762 + ((x714 + (x715 * x354[2][10])) * Val(1024))) +
              ((x716 + (x717 * x354[2][11])) * Val(2048)));
  Val x764 = ((x763 + ((x718 + (x719 * x354[2][12])) * Val(4096))) +
              ((x720 + (x721 * x354[2][13])) * Val(8192)));
  Val x765 = ((x764 + ((x722 + (x723 * x354[2][14])) * Val(16384))) +
              ((x724 + (x725 * x354[2][15])) * Val(32768)));
  Val x766 = ((x726 + (x727 * x354[2][16])) + ((x728 + (x729 * x354[2][17])) * Val(2)));
  Val x767 = ((x766 + ((x730 + (x731 * x354[2][18])) * Val(4))) +
              ((x732 + (x733 * x354[2][19])) * Val(8)));
  Val x768 = ((x767 + ((x734 + (x735 * x354[2][20])) * Val(16))) +
              ((x736 + (x737 * x354[2][21])) * Val(32)));
  Val x769 = ((x768 + ((x738 + (x739 * x354[2][22])) * Val(64))) +
              ((x740 + (x741 * x354[2][23])) * Val(128)));
  Val x770 = ((x769 + ((x742 + (x743 * x354[2][24])) * Val(256))) +
              ((x744 + (x745 * x354[2][25])) * Val(512)));
  Val x771 = ((x770 + ((x746 + (x747 * x354[2][26])) * Val(1024))) +
              ((x748 + (x749 * x354[2][27])) * Val(2048)));
  Val x772 = ((x771 + ((x750 + (x751 * x354[2][28])) * Val(4096))) +
              ((x752 + (x753 * x354[2][29])) * Val(8192)));
  Val x773 = ((x772 + ((x754 + (x755 * x354[2][30])) * Val(16384))) +
              ((x756 + (x757 * x354[2][31])) * Val(32768)));
  Val x774 = ((x612 - (x598 * x518)) + ((x613 - (x601 * x521)) * Val(2)));
  Val x775 = ((x774 + ((x614 - (x604 * x524)) * Val(4))) + ((x615 - (x607 * x527)) * Val(8)));
  Val x776 = ((x775 + ((x616 - (x610 * x530)) * Val(16))) + ((x617 - (x517 * x533)) * Val(32)));
  Val x777 = ((x776 + ((x618 - (x520 * x536)) * Val(64))) + ((x619 - (x523 * x539)) * Val(128)));
  Val x778 = ((x777 + ((x620 - (x526 * x542)) * Val(256))) + ((x621 - (x529 * x545)) * Val(512)));
  Val x779 = ((x778 + ((x622 - (x532 * x548)) * Val(1024))) + ((x623 - (x535 * x551)) * Val(2048)));
  Val x780 = ((x779 + ((x624 - (x538 * x554)) * Val(4096))) + ((x625 - (x541 * x557)) * Val(8192)));
  Val x781 =
      ((x780 + ((x626 - (x544 * x560)) * Val(16384))) + ((x627 - (x547 * x563)) * Val(32768)));
  Val x782 = ((x628 - (x550 * x566)) + ((x629 - (x553 * x569)) * Val(2)));
  Val x783 = ((x782 + ((x630 - (x556 * x572)) * Val(4))) + ((x631 - (x559 * x575)) * Val(8)));
  Val x784 = ((x783 + ((x632 - (x562 * x578)) * Val(16))) + ((x633 - (x565 * x581)) * Val(32)));
  Val x785 = ((x784 + ((x634 - (x568 * x584)) * Val(64))) + ((x635 - (x571 * x587)) * Val(128)));
  Val x786 = ((x785 + ((x636 - (x574 * x590)) * Val(256))) + ((x637 - (x577 * x593)) * Val(512)));
  Val x787 = ((x786 + ((x638 - (x580 * x596)) * Val(1024))) + ((x639 - (x583 * x599)) * Val(2048)));
  Val x788 = ((x787 + ((x640 - (x586 * x602)) * Val(4096))) + ((x641 - (x589 * x605)) * Val(8192)));
  Val x789 =
      ((x788 + ((x642 - (x592 * x608)) * Val(16384))) + ((x643 - (x595 * x611)) * Val(32768)));
  // Add2(zirgen/circuit/keccak2/sha2.zir:30)
  Val x790 = (((x673 + x667) + x668) + (x765 + x781));
  Val x791 = (((x693 + x687) + x688) + (x773 + x789));
  Val x792 = (x648 + (arg1[0] + x790));
  Val x793 = (x653 + (arg1[1] + x791));
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  // ComputeAE(zirgen/circuit/keccak2/sha2.zir:75)
  Val x794 = (x353[0][0] * x353[1][0]);
  Val x795 = (Val(1) - x353[2][0]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x796 = (Val(1) - x353[1][0]);
  Val x797 = (x353[0][0] * x796);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x798 = (Val(1) - x353[0][0]);
  Val x799 = ((x798 * x353[1][0]) * x353[2][0]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x800 = (((x794 * x795) + (x797 * x353[2][0])) + x799);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x801 = (x353[0][1] * x353[1][1]);
  Val x802 = (Val(1) - x353[2][1]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x803 = (Val(1) - x353[1][1]);
  Val x804 = (x353[0][1] * x803);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x805 = (Val(1) - x353[0][1]);
  Val x806 = ((x805 * x353[1][1]) * x353[2][1]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x807 = (((x801 * x802) + (x804 * x353[2][1])) + x806);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x808 = (x353[0][2] * x353[1][2]);
  Val x809 = (Val(1) - x353[2][2]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x810 = (Val(1) - x353[1][2]);
  Val x811 = (x353[0][2] * x810);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x812 = (Val(1) - x353[0][2]);
  Val x813 = ((x812 * x353[1][2]) * x353[2][2]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x814 = (((x808 * x809) + (x811 * x353[2][2])) + x813);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x815 = (x353[0][3] * x353[1][3]);
  Val x816 = (Val(1) - x353[2][3]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x817 = (Val(1) - x353[1][3]);
  Val x818 = (x353[0][3] * x817);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x819 = (Val(1) - x353[0][3]);
  Val x820 = ((x819 * x353[1][3]) * x353[2][3]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x821 = (((x815 * x816) + (x818 * x353[2][3])) + x820);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x822 = (x353[0][4] * x353[1][4]);
  Val x823 = (Val(1) - x353[2][4]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x824 = (Val(1) - x353[1][4]);
  Val x825 = (x353[0][4] * x824);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x826 = (Val(1) - x353[0][4]);
  Val x827 = ((x826 * x353[1][4]) * x353[2][4]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x828 = (((x822 * x823) + (x825 * x353[2][4])) + x827);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x829 = (x353[0][5] * x353[1][5]);
  Val x830 = (Val(1) - x353[2][5]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x831 = (Val(1) - x353[1][5]);
  Val x832 = (x353[0][5] * x831);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x833 = (Val(1) - x353[0][5]);
  Val x834 = ((x833 * x353[1][5]) * x353[2][5]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x835 = (((x829 * x830) + (x832 * x353[2][5])) + x834);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x836 = (x353[0][6] * x353[1][6]);
  Val x837 = (Val(1) - x353[2][6]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x838 = (Val(1) - x353[1][6]);
  Val x839 = (x353[0][6] * x838);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x840 = (Val(1) - x353[0][6]);
  Val x841 = ((x840 * x353[1][6]) * x353[2][6]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x842 = (((x836 * x837) + (x839 * x353[2][6])) + x841);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x843 = (x353[0][7] * x353[1][7]);
  Val x844 = (Val(1) - x353[2][7]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x845 = (Val(1) - x353[1][7]);
  Val x846 = (x353[0][7] * x845);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x847 = (Val(1) - x353[0][7]);
  Val x848 = ((x847 * x353[1][7]) * x353[2][7]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x849 = (((x843 * x844) + (x846 * x353[2][7])) + x848);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x850 = (x353[0][8] * x353[1][8]);
  Val x851 = (Val(1) - x353[2][8]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x852 = (Val(1) - x353[1][8]);
  Val x853 = (x353[0][8] * x852);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x854 = (Val(1) - x353[0][8]);
  Val x855 = ((x854 * x353[1][8]) * x353[2][8]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x856 = (((x850 * x851) + (x853 * x353[2][8])) + x855);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x857 = (x353[0][9] * x353[1][9]);
  Val x858 = (Val(1) - x353[2][9]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x859 = (Val(1) - x353[1][9]);
  Val x860 = (x353[0][9] * x859);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x861 = (Val(1) - x353[0][9]);
  Val x862 = ((x861 * x353[1][9]) * x353[2][9]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x863 = (((x857 * x858) + (x860 * x353[2][9])) + x862);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x864 = (x353[0][10] * x353[1][10]);
  Val x865 = (Val(1) - x353[2][10]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x866 = (Val(1) - x353[1][10]);
  Val x867 = (x353[0][10] * x866);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x868 = (Val(1) - x353[0][10]);
  Val x869 = ((x868 * x353[1][10]) * x353[2][10]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x870 = (((x864 * x865) + (x867 * x353[2][10])) + x869);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x871 = (x353[0][11] * x353[1][11]);
  Val x872 = (Val(1) - x353[2][11]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x873 = (Val(1) - x353[1][11]);
  Val x874 = (x353[0][11] * x873);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x875 = (Val(1) - x353[0][11]);
  Val x876 = ((x875 * x353[1][11]) * x353[2][11]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x877 = (((x871 * x872) + (x874 * x353[2][11])) + x876);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x878 = (x353[0][12] * x353[1][12]);
  Val x879 = (Val(1) - x353[2][12]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x880 = (Val(1) - x353[1][12]);
  Val x881 = (x353[0][12] * x880);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x882 = (Val(1) - x353[0][12]);
  Val x883 = ((x882 * x353[1][12]) * x353[2][12]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x884 = (((x878 * x879) + (x881 * x353[2][12])) + x883);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x885 = (x353[0][13] * x353[1][13]);
  Val x886 = (Val(1) - x353[2][13]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x887 = (Val(1) - x353[1][13]);
  Val x888 = (x353[0][13] * x887);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x889 = (Val(1) - x353[0][13]);
  Val x890 = ((x889 * x353[1][13]) * x353[2][13]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x891 = (((x885 * x886) + (x888 * x353[2][13])) + x890);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x892 = (x353[0][14] * x353[1][14]);
  Val x893 = (Val(1) - x353[2][14]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x894 = (Val(1) - x353[1][14]);
  Val x895 = (x353[0][14] * x894);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x896 = (Val(1) - x353[0][14]);
  Val x897 = ((x896 * x353[1][14]) * x353[2][14]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x898 = (((x892 * x893) + (x895 * x353[2][14])) + x897);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x899 = (x353[0][15] * x353[1][15]);
  Val x900 = (Val(1) - x353[2][15]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x901 = (Val(1) - x353[1][15]);
  Val x902 = (x353[0][15] * x901);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x903 = (Val(1) - x353[0][15]);
  Val x904 = ((x903 * x353[1][15]) * x353[2][15]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x905 = (((x899 * x900) + (x902 * x353[2][15])) + x904);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x906 = (x353[0][16] * x353[1][16]);
  Val x907 = (Val(1) - x353[2][16]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x908 = (Val(1) - x353[1][16]);
  Val x909 = (x353[0][16] * x908);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x910 = (Val(1) - x353[0][16]);
  Val x911 = ((x910 * x353[1][16]) * x353[2][16]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x912 = (((x906 * x907) + (x909 * x353[2][16])) + x911);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x913 = (x353[0][17] * x353[1][17]);
  Val x914 = (Val(1) - x353[2][17]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x915 = (Val(1) - x353[1][17]);
  Val x916 = (x353[0][17] * x915);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x917 = (Val(1) - x353[0][17]);
  Val x918 = ((x917 * x353[1][17]) * x353[2][17]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x919 = (((x913 * x914) + (x916 * x353[2][17])) + x918);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x920 = (x353[0][18] * x353[1][18]);
  Val x921 = (Val(1) - x353[2][18]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x922 = (Val(1) - x353[1][18]);
  Val x923 = (x353[0][18] * x922);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x924 = (Val(1) - x353[0][18]);
  Val x925 = ((x924 * x353[1][18]) * x353[2][18]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x926 = (((x920 * x921) + (x923 * x353[2][18])) + x925);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x927 = (x353[0][19] * x353[1][19]);
  Val x928 = (Val(1) - x353[2][19]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x929 = (Val(1) - x353[1][19]);
  Val x930 = (x353[0][19] * x929);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x931 = (Val(1) - x353[0][19]);
  Val x932 = ((x931 * x353[1][19]) * x353[2][19]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x933 = (((x927 * x928) + (x930 * x353[2][19])) + x932);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x934 = (x353[0][20] * x353[1][20]);
  Val x935 = (Val(1) - x353[2][20]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x936 = (Val(1) - x353[1][20]);
  Val x937 = (x353[0][20] * x936);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x938 = (Val(1) - x353[0][20]);
  Val x939 = ((x938 * x353[1][20]) * x353[2][20]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x940 = (((x934 * x935) + (x937 * x353[2][20])) + x939);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x941 = (x353[0][21] * x353[1][21]);
  Val x942 = (Val(1) - x353[2][21]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x943 = (Val(1) - x353[1][21]);
  Val x944 = (x353[0][21] * x943);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x945 = (Val(1) - x353[0][21]);
  Val x946 = ((x945 * x353[1][21]) * x353[2][21]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x947 = (((x941 * x942) + (x944 * x353[2][21])) + x946);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x948 = (x353[0][22] * x353[1][22]);
  Val x949 = (Val(1) - x353[2][22]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x950 = (Val(1) - x353[1][22]);
  Val x951 = (x353[0][22] * x950);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x952 = (Val(1) - x353[0][22]);
  Val x953 = ((x952 * x353[1][22]) * x353[2][22]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x954 = (((x948 * x949) + (x951 * x353[2][22])) + x953);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x955 = (x353[0][23] * x353[1][23]);
  Val x956 = (Val(1) - x353[2][23]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x957 = (Val(1) - x353[1][23]);
  Val x958 = (x353[0][23] * x957);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x959 = (Val(1) - x353[0][23]);
  Val x960 = ((x959 * x353[1][23]) * x353[2][23]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x961 = (((x955 * x956) + (x958 * x353[2][23])) + x960);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x962 = (x353[0][24] * x353[1][24]);
  Val x963 = (Val(1) - x353[2][24]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x964 = (Val(1) - x353[1][24]);
  Val x965 = (x353[0][24] * x964);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x966 = (Val(1) - x353[0][24]);
  Val x967 = ((x966 * x353[1][24]) * x353[2][24]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x968 = (((x962 * x963) + (x965 * x353[2][24])) + x967);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x969 = (x353[0][25] * x353[1][25]);
  Val x970 = (Val(1) - x353[2][25]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x971 = (Val(1) - x353[1][25]);
  Val x972 = (x353[0][25] * x971);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x973 = (Val(1) - x353[0][25]);
  Val x974 = ((x973 * x353[1][25]) * x353[2][25]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x975 = (((x969 * x970) + (x972 * x353[2][25])) + x974);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x976 = (x353[0][26] * x353[1][26]);
  Val x977 = (Val(1) - x353[2][26]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x978 = (Val(1) - x353[1][26]);
  Val x979 = (x353[0][26] * x978);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x980 = (Val(1) - x353[0][26]);
  Val x981 = ((x980 * x353[1][26]) * x353[2][26]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x982 = (((x976 * x977) + (x979 * x353[2][26])) + x981);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x983 = (x353[0][27] * x353[1][27]);
  Val x984 = (Val(1) - x353[2][27]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x985 = (Val(1) - x353[1][27]);
  Val x986 = (x353[0][27] * x985);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x987 = (Val(1) - x353[0][27]);
  Val x988 = ((x987 * x353[1][27]) * x353[2][27]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x989 = (((x983 * x984) + (x986 * x353[2][27])) + x988);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x990 = (x353[0][28] * x353[1][28]);
  Val x991 = (Val(1) - x353[2][28]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x992 = (Val(1) - x353[1][28]);
  Val x993 = (x353[0][28] * x992);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x994 = (Val(1) - x353[0][28]);
  Val x995 = ((x994 * x353[1][28]) * x353[2][28]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x996 = (((x990 * x991) + (x993 * x353[2][28])) + x995);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x997 = (x353[0][29] * x353[1][29]);
  Val x998 = (Val(1) - x353[2][29]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x999 = (Val(1) - x353[1][29]);
  Val x1000 = (x353[0][29] * x999);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x1001 = (Val(1) - x353[0][29]);
  Val x1002 = ((x1001 * x353[1][29]) * x353[2][29]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x1003 = (((x997 * x998) + (x1000 * x353[2][29])) + x1002);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x1004 = (x353[0][30] * x353[1][30]);
  Val x1005 = (Val(1) - x353[2][30]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x1006 = (Val(1) - x353[1][30]);
  Val x1007 = (x353[0][30] * x1006);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x1008 = (Val(1) - x353[0][30]);
  Val x1009 = ((x1008 * x353[1][30]) * x353[2][30]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x1010 = (((x1004 * x1005) + (x1007 * x353[2][30])) + x1009);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:16)
  Val x1011 = (x353[0][31] * x353[1][31]);
  Val x1012 = (Val(1) - x353[2][31]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x1013 = (Val(1) - x353[1][31]);
  Val x1014 = (x353[0][31] * x1013);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:18)
  Val x1015 = (Val(1) - x353[0][31]);
  Val x1016 = ((x1015 * x353[1][31]) * x353[2][31]);
  // MajU32(zirgen/circuit/keccak2/sha2.zir:17)
  Val x1017 = (((x1011 * x1012) + (x1014 * x353[2][31])) + x1016);
  // Pack(zirgen/circuit/keccak2/pack.zir:32)
  // Pack32(zirgen/circuit/keccak2/sha2.zir:55)
  Val x1018 = ((x800 + (x794 * x353[2][0])) + ((x807 + (x801 * x353[2][1])) * Val(2)));
  Val x1019 =
      ((x1018 + ((x814 + (x808 * x353[2][2])) * Val(4))) + ((x821 + (x815 * x353[2][3])) * Val(8)));
  Val x1020 = ((x1019 + ((x828 + (x822 * x353[2][4])) * Val(16))) +
               ((x835 + (x829 * x353[2][5])) * Val(32)));
  Val x1021 = ((x1020 + ((x842 + (x836 * x353[2][6])) * Val(64))) +
               ((x849 + (x843 * x353[2][7])) * Val(128)));
  Val x1022 = ((x1021 + ((x856 + (x850 * x353[2][8])) * Val(256))) +
               ((x863 + (x857 * x353[2][9])) * Val(512)));
  Val x1023 = ((x1022 + ((x870 + (x864 * x353[2][10])) * Val(1024))) +
               ((x877 + (x871 * x353[2][11])) * Val(2048)));
  Val x1024 = ((x1023 + ((x884 + (x878 * x353[2][12])) * Val(4096))) +
               ((x891 + (x885 * x353[2][13])) * Val(8192)));
  Val x1025 = ((x1024 + ((x898 + (x892 * x353[2][14])) * Val(16384))) +
               ((x905 + (x899 * x353[2][15])) * Val(32768)));
  Val x1026 = ((x912 + (x906 * x353[2][16])) + ((x919 + (x913 * x353[2][17])) * Val(2)));
  Val x1027 = ((x1026 + ((x926 + (x920 * x353[2][18])) * Val(4))) +
               ((x933 + (x927 * x353[2][19])) * Val(8)));
  Val x1028 = ((x1027 + ((x940 + (x934 * x353[2][20])) * Val(16))) +
               ((x947 + (x941 * x353[2][21])) * Val(32)));
  Val x1029 = ((x1028 + ((x954 + (x948 * x353[2][22])) * Val(64))) +
               ((x961 + (x955 * x353[2][23])) * Val(128)));
  Val x1030 = ((x1029 + ((x968 + (x962 * x353[2][24])) * Val(256))) +
               ((x975 + (x969 * x353[2][25])) * Val(512)));
  Val x1031 = ((x1030 + ((x982 + (x976 * x353[2][26])) * Val(1024))) +
               ((x989 + (x983 * x353[2][27])) * Val(2048)));
  Val x1032 = ((x1031 + ((x996 + (x990 * x353[2][28])) * Val(4096))) +
               ((x1003 + (x997 * x353[2][29])) * Val(8192)));
  Val x1033 = ((x1032 + ((x1010 + (x1004 * x353[2][30])) * Val(16384))) +
               ((x1017 + (x1011 * x353[2][31])) * Val(32768)));
  Val x1034 = ((x484 - (x452 * x390)) + ((x485 - (x455 * x393)) * Val(2)));
  Val x1035 = ((x1034 + ((x486 - (x458 * x396)) * Val(4))) + ((x487 - (x461 * x399)) * Val(8)));
  Val x1036 = ((x1035 + ((x488 - (x464 * x402)) * Val(16))) + ((x489 - (x467 * x405)) * Val(32)));
  Val x1037 = ((x1036 + ((x490 - (x470 * x408)) * Val(64))) + ((x491 - (x473 * x411)) * Val(128)));
  Val x1038 = ((x1037 + ((x492 - (x476 * x414)) * Val(256))) + ((x493 - (x479 * x417)) * Val(512)));
  Val x1039 =
      ((x1038 + ((x494 - (x482 * x420)) * Val(1024))) + ((x495 - (x389 * x423)) * Val(2048)));
  Val x1040 =
      ((x1039 + ((x496 - (x392 * x426)) * Val(4096))) + ((x497 - (x395 * x429)) * Val(8192)));
  Val x1041 =
      ((x1040 + ((x498 - (x398 * x432)) * Val(16384))) + ((x499 - (x401 * x435)) * Val(32768)));
  Val x1042 = ((x500 - (x404 * x438)) + ((x501 - (x407 * x441)) * Val(2)));
  Val x1043 = ((x1042 + ((x502 - (x410 * x444)) * Val(4))) + ((x503 - (x413 * x447)) * Val(8)));
  Val x1044 = ((x1043 + ((x504 - (x416 * x450)) * Val(16))) + ((x505 - (x419 * x453)) * Val(32)));
  Val x1045 = ((x1044 + ((x506 - (x422 * x456)) * Val(64))) + ((x507 - (x425 * x459)) * Val(128)));
  Val x1046 = ((x1045 + ((x508 - (x428 * x462)) * Val(256))) + ((x509 - (x431 * x465)) * Val(512)));
  Val x1047 =
      ((x1046 + ((x510 - (x434 * x468)) * Val(1024))) + ((x511 - (x437 * x471)) * Val(2048)));
  Val x1048 =
      ((x1047 + ((x512 - (x440 * x474)) * Val(4096))) + ((x513 - (x443 * x477)) * Val(8192)));
  Val x1049 =
      ((x1048 + ((x514 - (x446 * x480)) * Val(16384))) + ((x515 - (x449 * x483)) * Val(32768)));
  // ComputeAE(zirgen/circuit/keccak2/sha2.zir:76)
  Val x1050 = (x353[3][1] * Val(2));
  Val x1051 = (x353[3][2] * Val(4));
  Val x1052 = (x353[3][3] * Val(8));
  Val x1053 = (x353[3][4] * Val(16));
  Val x1054 = (x353[3][5] * Val(32));
  Val x1055 = (x353[3][6] * Val(64));
  Val x1056 = (x353[3][7] * Val(128));
  Val x1057 = (x353[3][8] * Val(256));
  Val x1058 = (x353[3][9] * Val(512));
  Val x1059 = (x353[3][10] * Val(1024));
  Val x1060 = (x353[3][11] * Val(2048));
  Val x1061 = (x353[3][12] * Val(4096));
  Val x1062 = (x353[3][13] * Val(8192));
  Val x1063 = (x353[3][14] * Val(16384));
  Val x1064 = (x353[3][15] * Val(32768));
  Val x1065 = (x353[3][0] + x1050);
  Val x1066 = (((x1065 + x1051) + x1052) + x1053);
  Val x1067 = (((x1066 + x1054) + x1055) + x1056);
  Val x1068 = (((x1067 + x1057) + x1058) + x1059);
  Val x1069 = (((x1068 + x1060) + x1061) + x1062);
  Val x1070 = (x353[3][17] * Val(2));
  Val x1071 = (x353[3][18] * Val(4));
  Val x1072 = (x353[3][19] * Val(8));
  Val x1073 = (x353[3][20] * Val(16));
  Val x1074 = (x353[3][21] * Val(32));
  Val x1075 = (x353[3][22] * Val(64));
  Val x1076 = (x353[3][23] * Val(128));
  Val x1077 = (x353[3][24] * Val(256));
  Val x1078 = (x353[3][25] * Val(512));
  Val x1079 = (x353[3][26] * Val(1024));
  Val x1080 = (x353[3][27] * Val(2048));
  Val x1081 = (x353[3][28] * Val(4096));
  Val x1082 = (x353[3][29] * Val(8192));
  Val x1083 = (x353[3][30] * Val(16384));
  Val x1084 = (x353[3][31] * Val(32768));
  Val x1085 = (x353[3][16] + x1070);
  Val x1086 = (((x1085 + x1071) + x1072) + x1073);
  Val x1087 = (((x1086 + x1074) + x1075) + x1076);
  Val x1088 = (((x1087 + x1077) + x1078) + x1079);
  Val x1089 = (((x1088 + x1080) + x1081) + x1082);
  // DoShaStep(zirgen/circuit/keccak2/top.zir:142)
  UnpackReg_32__16_Struct x1090 =
      exec_CarryAndExpand(ctx,
                          Val2Array{(x792 + (x1025 + x1041)), (x793 + (x1033 + x1049))},
                          LAYOUT_LOOKUP(layout4, a));
  // DoShaStep(zirgen/circuit/keccak2/top.zir:143)
  UnpackReg_32__16_Struct x1091 = exec_CarryAndExpand(
      ctx,
      Val2Array{(x792 + ((x1069 + x1063) + x1064)), (x793 + ((x1089 + x1083) + x1084))},
      LAYOUT_LOOKUP(layout4, e));
  // DoShaStep(zirgen/circuit/keccak2/top.zir:142)
  UnpackReg_32__16__SuperStruct32Array x1092 = x1090._super;
  Val x1093 = x1092[0]._super._super;
  Val x1094 = x1092[1]._super._super;
  Val x1095 = x1092[2]._super._super;
  Val x1096 = x1092[3]._super._super;
  Val x1097 = x1092[4]._super._super;
  Val x1098 = x1092[5]._super._super;
  Val x1099 = x1092[6]._super._super;
  Val x1100 = x1092[7]._super._super;
  Val x1101 = x1092[8]._super._super;
  Val x1102 = x1092[9]._super._super;
  Val x1103 = x1092[10]._super._super;
  Val x1104 = x1092[11]._super._super;
  Val x1105 = x1092[12]._super._super;
  Val x1106 = x1092[13]._super._super;
  Val x1107 = x1092[14]._super._super;
  Val x1108 = x1092[15]._super._super;
  Val x1109 = x1092[16]._super._super;
  Val x1110 = x1092[17]._super._super;
  Val x1111 = x1092[18]._super._super;
  Val x1112 = x1092[19]._super._super;
  Val x1113 = x1092[20]._super._super;
  Val x1114 = x1092[21]._super._super;
  Val x1115 = x1092[22]._super._super;
  Val x1116 = x1092[23]._super._super;
  Val x1117 = x1092[24]._super._super;
  Val x1118 = x1092[25]._super._super;
  Val x1119 = x1092[26]._super._super;
  Val x1120 = x1092[27]._super._super;
  Val x1121 = x1092[28]._super._super;
  Val x1122 = x1092[29]._super._super;
  Val x1123 = x1092[30]._super._super;
  Val x1124 = x1092[31]._super._super;
  // DoShaStep(zirgen/circuit/keccak2/top.zir:143)
  UnpackReg_32__16__SuperStruct32Array x1125 = x1091._super;
  Val x1126 = x1125[0]._super._super;
  Val x1127 = x1125[1]._super._super;
  Val x1128 = x1125[2]._super._super;
  Val x1129 = x1125[3]._super._super;
  Val x1130 = x1125[4]._super._super;
  Val x1131 = x1125[5]._super._super;
  Val x1132 = x1125[6]._super._super;
  Val x1133 = x1125[7]._super._super;
  Val x1134 = x1125[8]._super._super;
  Val x1135 = x1125[9]._super._super;
  Val x1136 = x1125[10]._super._super;
  Val x1137 = x1125[11]._super._super;
  Val x1138 = x1125[12]._super._super;
  Val x1139 = x1125[13]._super._super;
  Val x1140 = x1125[14]._super._super;
  Val x1141 = x1125[15]._super._super;
  Val x1142 = x1125[16]._super._super;
  Val x1143 = x1125[17]._super._super;
  Val x1144 = x1125[18]._super._super;
  Val x1145 = x1125[19]._super._super;
  Val x1146 = x1125[20]._super._super;
  Val x1147 = x1125[21]._super._super;
  Val x1148 = x1125[22]._super._super;
  Val x1149 = x1125[23]._super._super;
  Val x1150 = x1125[24]._super._super;
  Val x1151 = x1125[25]._super._super;
  Val x1152 = x1125[26]._super._super;
  Val x1153 = x1125[27]._super._super;
  Val x1154 = x1125[28]._super._super;
  Val x1155 = x1125[29]._super._super;
  Val x1156 = x1125[30]._super._super;
  Val x1157 = x1125[31]._super._super;
  // ShaState(zirgen/circuit/keccak2/top.zir:130)
  // DoShaStep(zirgen/circuit/keccak2/top.zir:144)
  ShaStateStruct x1158 = ShaStateStruct{
      .a = Val32Array4Array{Val32Array{x1093, x1094, x1095, x1096, x1097, x1098, x1099, x1100,
                                       x1101, x1102, x1103, x1104, x1105, x1106, x1107, x1108,
                                       x1109, x1110, x1111, x1112, x1113, x1114, x1115, x1116,
                                       x1117, x1118, x1119, x1120, x1121, x1122, x1123, x1124},
                            x353[0],
                            x353[1],
                            x353[2]},
      .e = Val32Array4Array{Val32Array{x1126, x1127, x1128, x1129, x1130, x1131, x1132, x1133,
                                       x1134, x1135, x1136, x1137, x1138, x1139, x1140, x1141,
                                       x1142, x1143, x1144, x1145, x1146, x1147, x1148, x1149,
                                       x1150, x1151, x1152, x1153, x1154, x1155, x1156, x1157},
                            x354[0],
                            x354[1],
                            x354[2]},
      .w = Val32Array16Array{Val32Array{x356, x357, x358, x359, x360, x361, x362, x363,
                                        x364, x365, x366, x367, x368, x369, x370, x371,
                                        x372, x373, x374, x375, x376, x377, x378, x379,
                                        x380, x381, x382, x383, x384, x385, x386, x387},
                             x5[0],
                             x5[1],
                             x5[2],
                             x5[3],
                             x5[4],
                             x5[5],
                             x5[6],
                             x5[7],
                             x5[8],
                             x5[9],
                             x5[10],
                             x5[11],
                             x5[12],
                             x5[13],
                             x5[14]}};
  return DoShaStepStruct{.w = x352, .a = x1090, .e = x1091, .newState = x1158};
}

} // namespace risc0::impl
